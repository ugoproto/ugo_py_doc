<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Ugo Spark">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Write Better Python with PEP - ugo_py_doc</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Write Better Python with PEP";
    var mkdocs_page_input_path = "Write_Better_Python.md";
    var mkdocs_page_url = "/Write_Better_Python/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> ugo_py_doc</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Basics & More</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../Python_Preliminaries/">Python Preliminaries</a>
                </li>
                <li class="">
                    
    <a class="" href="../Python_Nice_to_Have/">Python Nice to Have</a>
                </li>
                <li class="">
                    
    <a class="" href="../Freeze_the_Code/">Freeze the Code</a>
                </li>
                <li class="">
                    
    <a class="" href="../Decorators/">Decorators</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Write Better Python with PEP</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#1-pep20">1, PEP20</a></li>
    

    <li class="toctree-l3"><a href="#2-pep8">2, PEP8</a></li>
    

    <li class="toctree-l3"><a href="#3-pep-diagnoses-with-flake8-pylint">3, PEP Diagnoses with flake8 &amp; pylint</a></li>
    

    <li class="toctree-l3"><a href="#4-help-docstrings">4, Help &amp; Docstrings</a></li>
    

    <li class="toctree-l3"><a href="#5-pdb-debugs-scripts">5, pdb Debugs Scripts</a></li>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../Regex/">Regular Expressions (REGEX)</a>
                </li>
                <li class="">
                    
    <a class="" href="../Databases/">Databases</a>
                </li>
                <li class="">
                    
    <a class="" href="../Datetime/">Datetime</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">SciPy Stack</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../Scientific%20Python%20%28the%20SciPy%20Stack%29/">Scientific Python (the SciPy Stack)</a>
                </li>
                <li class="">
                    
    <a class="" href="../DataCamp%20Importing%20Data%20into%20Python%203/">DataCamp Importing Data into Python 3</a>
                </li>
                <li class="">
                    
    <a class="" href="../DataCamp%20Python%203%20for%20Data%20Science/">DataCamp Python 3 for Data Science</a>
                </li>
                <li class="">
                    
    <a class="" href="../Tidy_Data_in_Python/">Tidy Data in Python</a>
                </li>
                <li class="">
                    
    <a class="" href="../IPython%20Notebook/">IPython Notebook, Collection</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Courses</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../Apprenez%20a%20programmer%20en%20Python/">Apprenez à programmer en Python</a>
                </li>
                <li class="">
                    
    <a class="" href="../Codecademy%20Python/">Codecademy Python</a>
                </li>
                <li class="">
                    
    <a class="" href="../Learn%20Python%20the%20Hard%20Way/">Learn Python the Hard Way</a>
                </li>
                <li class="">
                    
    <a class="" href="../Python%20Code%20Snippets/">Python Code Snippets</a>
                </li>
                <li class="">
                    
    <a class="" href="../Introduction%20to%20Python/">Introduction to Python</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Manuals</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../Automate%20the%20Boring%20Stuff%20with%20Python/">Automate the Boring Stuff with Python</a>
                </li>
                <li class="">
                    
    <a class="" href="../Managing%20Your%20Biological%20Data%20with%20Python/">Managing Your Biological Data with Python</a>
                </li>
                <li class="">
                    
    <a class="" href="../Python%20for%20Education/">Python for Education</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">ugo_py_doc</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Basics & More &raquo;</li>
        
      
    
    <li>Write Better Python with PEP</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h3 id="write-better-python-with-pep">Write Better Python with PEP<a class="headerlink" href="#write-better-python-with-pep" title="Permanent link">&para;</a></h3>
<p><strong>Foreword</strong></p>
<p>Notes. Python 2. Consult the <a href="http://docs.python-guide.org/en/latest/">Hitchicker&rsquo;s Guide to Python</a>.</p>
<hr />
<div class="toc"><span class="toctitle">CONTENT</span><ul>
<li><a href="#write-better-python-with-pep">Write Better Python with PEP</a><ul>
<li><a href="#1-pep20">1, PEP20</a></li>
<li><a href="#2-pep8">2, PEP8</a></li>
<li><a href="#3-pep-diagnoses-with-flake8-pylint">3, PEP Diagnoses with flake8 &amp; pylint</a></li>
<li><a href="#4-help-docstrings">4, Help &amp; Docstrings</a></li>
<li><a href="#5-pdb-debugs-scripts">5, pdb Debugs Scripts</a></li>
</ul>
</li>
</ul>
</div>
<hr />
<h4 id="1-pep20">1, PEP20<a class="headerlink" href="#1-pep20" title="Permanent link">&para;</a></h4>
<p>PEP : Python Enhancement Proposals. In the Python shell, type <code>import this</code>. We get the following &lsquo;easter egg&rsquo;.</p>
<pre><code class="python">The Zen of Python, by Tim Peters

Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Special cases aren't special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
There should be one-- and preferably only one --obvious way to do it.
Although that way may not be obvious at first unless you're Dutch.
Now is better than never.
Although never is often better than *right* now.
If the implementation is hard to explain, it's a bad idea.
If the implementation is easy to explain, it may be a good idea.
Namespaces are one honking great idea -- let's do more of those!
</code></pre>

<p>The &lsquo;easter egg&rsquo; is a poem. A poem of best practices.</p>
<ul>
<li>Explicit is better than implicit. Don&rsquo;t add numbers to strings.</li>
<li>Readability counts. Use the grammar of PEP8. Add comments.</li>
<li>Special cases aren&rsquo;t special enough to break the rules. The<code>len</code> function for all. A function applies to all. A method applied to some. Find the built-in function before coding new functions.</li>
<li>The code should be pleasant and easy to read.</li>
</ul>
<h4 id="2-pep8">2, PEP8<a class="headerlink" href="#2-pep8" title="Permanent link">&para;</a></h4>
<p>PEP : Python Enhancement Proposals. Improves the look of the code. Here are a few principles:</p>
<ul>
<li>Import at the top and separate.</li>
<li>1 space between parameters and variables.</li>
<li>4-space indentation.</li>
<li>Two-line space between independent functions.</li>
<li>1 space between operators.</li>
<li>2-line space between class and other objects.</li>
<li>Classes are capitalized.</li>
<li>Functions and methods are not capitalized.</li>
<li>1-line space between class functions.</li>
<li>Constant variable in uppercase.</li>
<li>Variable in lowercase and long names.</li>
</ul>
<p>Here is an example where to apply these principles.</p>
<pre><code class="python">import sys # import at the top and separate
import random


def foo_Bar(arg1, arg2, arg3, arg4): # 1 space between parameters and variables
    return arg1, arg2, arg3, arg4 # 4-space indentation


def bar(*args): # 2-line space between independent functions
    # bad spacing
    return 2 + 2 # 1 space between operators


class Submarine: # 2-line space between class and other objects; classes are capitalized
    def one(self): # functions and methods are not capitalized
        return 1

    def two(self): # 1-line space between class functions
        return 2

CONSTANT = 10 # constant variable in uppercase

alpha, beta, charlie, delta = foo_Bar( # variable in lowercase and long names
 &quot;a long string&quot;, # one practical way to stack things
 &quot;a longer string&quot;,
 &quot;yet another long string&quot;, 
 &quot;and other crazy string&quot;)

one = 1 # 1 space
three = 3
fourteen = 14

print alpha
print fourteen

print Submarine().two() # class.method
</code></pre>

<h4 id="3-pep-diagnoses-with-flake8-pylint">3, PEP Diagnoses with <code>flake8</code> &amp; <code>pylint</code><a class="headerlink" href="#3-pep-diagnoses-with-flake8-pylint" title="Permanent link">&para;</a></h4>
<p>The modules can be integrated with IDE and text editors (VIM, Emacs, gedit, Notepad++, etc.).</p>
<p><strong><code>flake8</code></strong></p>
<ul>
<li>Install <code>flake8</code> with pip.</li>
<li>Run a script with <code>flake8</code>: <code>python flake8 script.py</code>. </li>
<li>Instead of running the code, <code>flake8</code> runs a diagnosis and returns the results. </li>
<li>The results suggest improvement to the look of the script. </li>
<li>It shows a list: the line number, the character positions, and the improvement. We can then go back to the script, improve it and rerun <code>flake8</code>.</li>
</ul>
<p><strong><code>pylint</code></strong></p>
<ul>
<li>Install <code>pylint</code> with pip.</li>
<li>Run a script with <code>flake8</code>: <code>python pylint script.py</code>. </li>
</ul>
<p><code>pylint</code> runs a diagnosis and returns a report about the script.</p>
<h4 id="4-help-docstrings">4, Help &amp; Docstrings<a class="headerlink" href="#4-help-docstrings" title="Permanent link">&para;</a></h4>
<ul>
<li>In the shell, for any command &lsquo;cmd&rsquo;, type <code>help(cmd)</code> to get a definition.</li>
<li>Type <code>dir(cmd)</code> to get the attributes from the Python glossary.</li>
<li>A docstrings is an enhancement to the <code>help</code> glossary.</li>
</ul>
<p>Without docstrings.</p>
<pre><code class="python">def does_something(arg):
    if isinstance(arg, (int, float)):
        return arg + 10
    elif isinstance(arg, str):
        return str * 3
    else:
        raise TypeError(&quot;does_something only takes ints, floats, and strings&quot;)
</code></pre>

<ul>
<li>We should never read a code to figure out what it does! </li>
<li>Add docstrings: &ldquo;&rdquo;&rdquo;   &ldquo;&rdquo;&rdquo; on 1 line</li>
<li>Add docstrings: several lines (see below).</li>
</ul>
<pre><code class="python">def does_better(arg):
    &quot;&quot;&quot;Takes one argument and does something based on type.
    If arg is a string, returns arg * 3;
    If arg is an int or float, returns arg + 10
    &quot;&quot;&quot;
    if isinstance(arg, (int, float)):
        return arg + 10
    elif isinstance(arg, str):
        return str * 3
    else:
        raise TypeError(&quot;does_something only takes ints, floats, and strings&quot;)
</code></pre>

<ul>
<li>In the shell, type <code>help(docstrings.does_better)</code> to print the function&rsquo;s docstring.</li>
</ul>
<h4 id="5-pdb-debugs-scripts">5, <code>pdb</code> Debugs Scripts<a class="headerlink" href="#5-pdb-debugs-scripts" title="Permanent link">&para;</a></h4>
<p>Go inside the code.</p>
<p>The next following script is bugged.</p>
<pre><code class="python"># a list
my_list = [5, 2, 1, True, &quot;abcdefg&quot;, 3, False, 4]

# modify the list
del my_list[3]
del my_list[4]
del my_list[6]
print my_list
</code></pre>

<p>We run the code and we get an error. The sloppy fix would be to add print statements.</p>
<pre><code class="python"># a list
my_list = [5, 2, 1, True, &quot;abcdefg&quot;, 3, False, 4]

# modify the list
del my_list[3] # ADD
print my_list
del my_list[4] # ADD
print my_list
del my_list[6] # ADD
print my_list
</code></pre>

<p>Instead, use the Python debugger: <code>pdb</code> and <code>set_trace()</code> in the code.</p>
<pre><code class="python">import pdb # ADD


# a list
my_list = [5, 2, 1, True, &quot;abcdefg&quot;, 3, False, 4]

pdb.set_trace() # ADD
del my_list[3]
del my_list[4]
del my_list[6]
print my_list
</code></pre>

<p>When we run the script, the routine stops at each line following the <code>set_trace()</code> function. We get a <code>(Pdb)</code> prompt. We can type in the variable name as if we were in the shell to see what is going on.</p>
<p>We punch <code>n</code> or <code>next</code> to step forward in the script. <code>pdb</code> pinpoint the trouble areas. In the current case, we want to delete a value at index 6 when the list had been reduced to 5 values (it is impossible to delete what is inexistant!).</p>
<pre><code class="python">import pdb


# a list
my_list = [5, 2, 1, True, &quot;abcdefg&quot;, 3, False, 4]

pdb.set_trace()
del my_list[3] # [5, 2, 1, &quot;abcdefg&quot;, 3, False, 4]
del my_list[4] # [5, 2, 1, 3, False, 4]
del my_list[6] # [5, 2, 1, 3, 4]
print my_list
</code></pre>

<p>An alternative way.</p>
<pre><code class="python"># a list
my_list = [5, 2, 1, True, &quot;abcdefg&quot;, 3, False, 4]

import pdb; pdb.set_trace() # ADD
del my_list[3] # [5, 2, 1, &quot;abcdefg&quot;, 3, False, 4]
del my_list[4] # [5, 2, 1, 3, False, 4]
del my_list[4] # [5, 2, 1, 3, 4]
print my_list
</code></pre>

<p>Change the script and rerun it.</p>
<pre><code class="python">import pdb


# a list
my_list = [5, 2, 1, True, &quot;abcdefg&quot;, 3, False, 4]

pdb.set_trace()
del my_list[3] # [5, 2, 1, &quot;abcdefg&quot;, 3, False, 4]
del my_list[4] # [5, 2, 1, 3, False, 4]
del my_list[4] # [5, 2, 1, 3, 4]
print my_list
</code></pre>

<p>Once the script is debugged, delete the <code>pdb</code> stuff (it is a temporary measure).</p>
<pre><code class="python"># a list
my_list = [5, 2, 1, True, &quot;abcdefg&quot;, 3, False, 4]

del my_list[3] # [5, 2, 1, &quot;abcdefg&quot;, 3, False, 4]
del my_list[4] # [5, 2, 1, 3, False, 4]
del my_list[4] # [5, 2, 1, 3, 4]
print my_list
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Regex/" class="btn btn-neutral float-right" title="Regular Expressions (REGEX)">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Decorators/" class="btn btn-neutral" title="Decorators"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>© Ugo Spark</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../Decorators/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../Regex/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../js/theme.js"></script>
      <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
      <script src="../mathjaxhelper.js"></script>

</body>
</html>
